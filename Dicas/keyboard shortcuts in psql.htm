<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>select * from depesz;&raquo; Blog Archive &raquo; keyboard shortcuts in psql</title>

<link rel="stylesheet" href="http://www.depesz.com/wp-content/themes/as400/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="select * from depesz; RSS Feed" href="http://www.depesz.com/index.php/feed/" />
<link rel="pingback" href="http://www.depesz.com/xmlrpc.php" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.depesz.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.depesz.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.5" />

</head>
<body>
<div id="layout">


<div id="header" class="clearfix">
        <span>&nbsp;</span>
	<h1><a href="http://www.depesz.com/">select * from depesz;</a></h1>
	</div>
<hr />
<div id="page" class="clearfix">

<div id="sidebar">
    <div id="plus">&nbsp;</div>
    <div id="link">
        <a href="http://iworks.pl/">iworks.pl</a>
    </div>
		<ul>
			<!-- depeszsearch --><li class="depesz_sidebar_google_search"><div id="google-search"><!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="_top">
<a href="http://www.google.com/"><img src="http://www.google.com/logos/Logo_25blk.gif" border="0" alt="Google" align="middle" /></a>
<input type="hidden" name="domains" value="depesz.com"></input>
<label for="sbi" style="display: none">Enter your search terms</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi" tabindex="1"></input>
<input type="radio" name="sitesearch" value="" id="ss0"></input>
<label for="ss0" title="Search the Web">Web</label>
<input type="radio" name="sitesearch" value="depesz.com" checked id="ss1"></input>
<label for="ss1" title="Search depesz.com">depesz.com</label>
<label for="sbb" style="display: none">Submit search form</label>
<input type="submit" name="sa" value="Search" id="sbb" tabindex="2"></input>
<input type="hidden" name="client" value="pub-5473535448873103"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="channel" value="2842207204"></input>
<input type="hidden" name="ie" value="UTF-8"></input>
<input type="hidden" name="oe" value="UTF-8"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:ffffff;LBGC:111111;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:50;LW:600;L:http://depesz.com/depesz.png;S:http://depesz.com;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</form>
<!-- SiteSearch Google --></div>
</li><!-- most-viewed --><li class="widget_views_most_viewed"><h5>Most Viewed</h5><ul>
<li><a href="http://www.depesz.com/index.php/2008/03/22/waiting-for-pg-84-3/">waiting for pg 8.4</a></li><li><a href="http://www.depesz.com/index.php/2008/04/11/my-take-on-trees-in-sql/">My take on trees in SQL</a></li><li><a href="http://www.depesz.com/index.php/2007/10/04/ident/">&#8220;FATAL:  Ident authentication failed&#8221;, or how cool ideas get bad usage schemas</a></li><li><a href="http://www.depesz.com/index.php/2008/03/20/getting-multiple-values-from-sequences/">getting multiple values from sequences</a></li><li><a href="http://www.depesz.com/index.php/2008/03/24/waiting-for-pg-84-4/">waiting for pg 8.4</a></li><li><a href="http://www.depesz.com/index.php/2008/03/19/smtp-sql-more-than-it-seems-so-part-8/">smtp + sql = more than it seems so (part 8)</a></li><li><a href="http://www.depesz.com/index.php/2008/03/30/keyboard-shortcuts-in-psql/">keyboard shortcuts in psql</a></li><li><a href="http://www.depesz.com/index.php/2007/08/18/securing-your-postgresql-database/">securing your postgresql database</a></li><li><a href="http://www.depesz.com/index.php/2008/03/28/waiting-for-84/">waiting for 8.4</a></li><li><a href="http://www.depesz.com/index.php/2008/04/06/postgresql-highscalabilitycom/">postgresql @ highscalability.com</a></li></ul>
</li><!-- tag_cloud --><li class="widget_tag_cloud"><h5>Tags</h5><a href='http://www.depesz.com/index.php/tag/lamiglowki/' class='tag-link-30' title='7 topics' rel="tag" style='font-size: 8.31939163498pt;'>łamigłówki</a>
<a href='http://www.depesz.com/index.php/tag/smieszne/' class='tag-link-9' title='39 topics' rel="tag" style='font-size: 10.0228136882pt;'>śmieszne</a>
<a href='http://www.depesz.com/index.php/tag/zycie/' class='tag-link-5' title='201 topics' rel="tag" style='font-size: 18.6463878327pt;'>życie</a>
<a href='http://www.depesz.com/index.php/tag/administracja/' class='tag-link-20' title='65 topics' rel="tag" style='font-size: 11.4068441065pt;'>administracja</a>
<a href='http://www.depesz.com/index.php/tag/announcements/' class='tag-link-38' title='12 topics' rel="tag" style='font-size: 8.5855513308pt;'>announcements</a>
<a href='http://www.depesz.com/index.php/tag/bazy-danych/' class='tag-link-28' title='146 topics' rel="tag" style='font-size: 15.7186311787pt;'>bazy&nbsp;danych</a>
<a href='http://www.depesz.com/index.php/tag/bezpieczenstwo/' class='tag-link-17' title='97 topics' rel="tag" style='font-size: 13.1102661597pt;'>bezpieczeństwo</a>
<a href='http://www.depesz.com/index.php/tag/biznes/' class='tag-link-15' title='171 topics' rel="tag" style='font-size: 17.0494296578pt;'>biznes</a>
<a href='http://www.depesz.com/index.php/tag/c/' class='tag-link-39' title='1 topic' rel="tag" style='font-size: 8pt;'>c</a>
<a href='http://www.depesz.com/index.php/tag/ciekawostki/' class='tag-link-8' title='264 topics' rel="tag" style='font-size: 22pt;'>ciekawostki</a>
<a href='http://www.depesz.com/index.php/tag/comparison/' class='tag-link-45' title='1 topic' rel="tag" style='font-size: 8pt;'>comparison</a>
<a href='http://www.depesz.com/index.php/tag/cron/' class='tag-link-59' title='2 topics' rel="tag" style='font-size: 8.05323193916pt;'>cron</a>
<a href='http://www.depesz.com/index.php/tag/databases/' class='tag-link-60' title='5 topics' rel="tag" style='font-size: 8.21292775665pt;'>databases</a>
<a href='http://www.depesz.com/index.php/tag/dom/' class='tag-link-33' title='12 topics' rel="tag" style='font-size: 8.5855513308pt;'>dom</a>
<a href='http://www.depesz.com/index.php/tag/exim/' class='tag-link-42' title='8 topics' rel="tag" style='font-size: 8.37262357414pt;'>exim</a>
<a href='http://www.depesz.com/index.php/tag/filmy/' class='tag-link-16' title='26 topics' rel="tag" style='font-size: 9.33079847909pt;'>filmy</a>
<a href='http://www.depesz.com/index.php/tag/firefox/' class='tag-link-40' title='1 topic' rel="tag" style='font-size: 8pt;'>firefox</a>
<a href='http://www.depesz.com/index.php/tag/grafika/' class='tag-link-27' title='7 topics' rel="tag" style='font-size: 8.31939163498pt;'>grafika</a>
<a href='http://www.depesz.com/index.php/tag/gry/' class='tag-link-21' title='18 topics' rel="tag" style='font-size: 8.90494296578pt;'>gry</a>
<a href='http://www.depesz.com/index.php/tag/gsm/' class='tag-link-13' title='20 topics' rel="tag" style='font-size: 9.01140684411pt;'>gsm</a>
<a href='http://www.depesz.com/index.php/tag/howto/' class='tag-link-44' title='4 topics' rel="tag" style='font-size: 8.15969581749pt;'>howto</a>
<a href='http://www.depesz.com/index.php/tag/jedzenie/' class='tag-link-19' title='18 topics' rel="tag" style='font-size: 8.90494296578pt;'>jedzenie</a>
<a href='http://www.depesz.com/index.php/tag/ksiazki/' class='tag-link-7' title='10 topics' rel="tag" style='font-size: 8.47908745247pt;'>książki</a>
<a href='http://www.depesz.com/index.php/tag/laptopy/' class='tag-link-12' title='18 topics' rel="tag" style='font-size: 8.90494296578pt;'>laptopy</a>
<a href='http://www.depesz.com/index.php/tag/linux/' class='tag-link-29' title='23 topics' rel="tag" style='font-size: 9.1711026616pt;'>linux</a>
<a href='http://www.depesz.com/index.php/tag/muzyka/' class='tag-link-34' title='2 topics' rel="tag" style='font-size: 8.05323193916pt;'>muzyka</a>
<a href='http://www.depesz.com/index.php/tag/perl/' class='tag-link-24' title='21 topics' rel="tag" style='font-size: 9.06463878327pt;'>perl</a>
<a href='http://www.depesz.com/index.php/tag/pg84/' class='tag-link-48' title='9 topics' rel="tag" style='font-size: 8.42585551331pt;'>pg84</a>
<a href='http://www.depesz.com/index.php/tag/plotki/' class='tag-link-32' title='4 topics' rel="tag" style='font-size: 8.15969581749pt;'>plotki</a>
<a href='http://www.depesz.com/index.php/tag/plpgsql/' class='tag-link-49' title='5 topics' rel="tag" style='font-size: 8.21292775665pt;'>plpgsql</a>
<a href='http://www.depesz.com/index.php/tag/polityka/' class='tag-link-10' title='22 topics' rel="tag" style='font-size: 9.11787072243pt;'>polityka</a>
<a href='http://www.depesz.com/index.php/tag/postgresql/' class='tag-link-4' title='163 topics' rel="tag" style='font-size: 16.6235741445pt;'>postgresql</a>
<a href='http://www.depesz.com/index.php/tag/praca/' class='tag-link-23' title='23 topics' rel="tag" style='font-size: 9.1711026616pt;'>praca</a>
<a href='http://www.depesz.com/index.php/tag/programowanie/' class='tag-link-11' title='146 topics' rel="tag" style='font-size: 15.7186311787pt;'>programowanie</a>
<a href='http://www.depesz.com/index.php/tag/psql/' class='tag-link-68' title='2 topics' rel="tag" style='font-size: 8.05323193916pt;'>psql</a>
<a href='http://www.depesz.com/index.php/tag/riddle/' class='tag-link-43' title='1 topic' rel="tag" style='font-size: 8pt;'>riddle</a>
<a href='http://www.depesz.com/index.php/tag/ruby/' class='tag-link-26' title='4 topics' rel="tag" style='font-size: 8.15969581749pt;'>ruby</a>
<a href='http://www.depesz.com/index.php/tag/samochody/' class='tag-link-22' title='35 topics' rel="tag" style='font-size: 9.80988593156pt;'>samochody</a>
<a href='http://www.depesz.com/index.php/tag/sieci/' class='tag-link-14' title='61 topics' rel="tag" style='font-size: 11.1939163498pt;'>sieci</a>
<a href='http://www.depesz.com/index.php/tag/sprzet/' class='tag-link-18' title='107 topics' rel="tag" style='font-size: 13.6425855513pt;'>sprzęt</a>
<a href='http://www.depesz.com/index.php/tag/styl/' class='tag-link-31' title='117 topics' rel="tag" style='font-size: 14.174904943pt;'>styl</a>
<a href='http://www.depesz.com/index.php/tag/unix/' class='tag-link-58' title='2 topics' rel="tag" style='font-size: 8.05323193916pt;'>unix</a>
<a href='http://www.depesz.com/index.php/tag/web/' class='tag-link-41' title='1 topic' rel="tag" style='font-size: 8pt;'>web</a>
<a href='http://www.depesz.com/index.php/tag/wszechswiat/' class='tag-link-25' title='16 topics' rel="tag" style='font-size: 8.79847908745pt;'>wszechświat</a>
<a href='http://www.depesz.com/index.php/tag/zakupy/' class='tag-link-6' title='78 topics' rel="tag" style='font-size: 12.0988593156pt;'>zakupy</a></li>		<!-- text-91178101 --><li class="widget_text">			<h5>donate with paypal</h5>			<div class="textwidget"><form id="form_paypal" name="form_paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
            <input type="hidden" name="cmd" value="_xclick" />
            <input type="hidden" name="business" value="depesz@depesz.com" />
            <input type="hidden" name="item_name" value="Donation for author of http://depesz.com" />
            <input type="hidden" name="currency_code" value="USD" />
            <input type="hidden" name="amount" value="" />
            <input type="image" src="http://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!" />
</form>
</div>
		</li><div id="google-ads-right"><script type="text/javascript"><!--
google_ad_client = "pub-5473535448873103";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
//2007-10-23: depesz.com :: right
google_ad_channel = "7188390119";
google_color_border = "303030";
google_color_bg = "000000";
google_color_link = "bbbbbb";
google_color_text = "303030";
google_color_url = "2a2a2a";
//-->
</script>
<script type="text/javascript"  src="http://pagead2.googlesyndication.com/pagead/show_ads.js"> </script></div>
</li>
<li><h5>Pages</h5>
<ul>
<li><a href="http://auta.cc/" title="auta.cc">auta.cc - blog motoryzacyjny</a></li>
<li><a href="http://www.depesz.com/index.php/drzewka-w-bazach-danych/" title="drzewka w bazach danych">drzewka w bazach danych</a></li>
</ul>
</li>

<li><h5>RSS</h5>
<ul>
<li><a href="http://feeds.feedburner.com/depesz" title="Syndicate this site using RSS"><abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="http://feeds.feedburner.com/depesz-comments" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
</li>

<li><h5>depesz</h5>
<ul>
<li><a href="http://www.depesz.com/index.php/curriculum-vitae/" title="curriculum vitae">curriculum vitae</a></li>
<li><a href="http://www.linkedin.com/in/depesz" title="my profile on LinkedIn">LinkedIn</a></li>
</ul>
</li>

        </ul>
	</div>

<div id="content">

	
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="http://www.depesz.com/index.php/2008/03/29/using-separate-environments-for-people-using-single-account/">using separate environments for people using single account</a></div>
			<div class="alignright"><a href="http://www.depesz.com/index.php/2008/03/31/waiting-for-84-2/">waiting for 8.4</a> &raquo;</div>
		</div>

		<div class="post" id="post-1187">
				<h3><a href="http://www.depesz.com/index.php/2008/03/30/keyboard-shortcuts-in-psql/" rel="bookmark" title="Permanent Link to keyboard shortcuts in psql">keyboard shortcuts in psql</a></h3><p class="meta">
<small>2008-03-30 07:26:48 CEST <!-- by depesz --></small>
|   <span class="tags">Tags: <a href="http://www.depesz.com/index.php/tag/inputrc/" rel="tag">inputrc</a>, <a href="http://www.depesz.com/index.php/tag/keyboard/" rel="tag">keyboard</a>, <a href="http://www.depesz.com/index.php/tag/postgresql/" rel="tag">postgresql</a>, <a href="http://www.depesz.com/index.php/tag/psql/" rel="tag">psql</a>, <a href="http://www.depesz.com/index.php/tag/readline/" rel="tag">readline</a>, <a href="http://www.depesz.com/index.php/tag/shortcut/" rel="tag">shortcut</a></span></p>

			<div class="entry">
				<p>there is this quite old, but pretty functional concept: keyboard shortcuts.</p>
<p>you know it - you press ctrl-s, and your editor saves currently-edited file.</p>
<p>my problem is that there are some standard cases when i would really love to have this ability in psql. but psql doesn&#8217;t support it. or does it?</p>
<p><span id="more-1187"></span></p>
<p>luckily psql uses readline. and this gives me ability to do some nice tricks <img src='http://www.depesz.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>in my home dir there is (but if there wasn&#8217;t, i could just create empty) file named .inputrc.</p>
<p>this is configuration of readline.</p>
<p>and what can be added there? for example this line:</p>
<p><code>"^[e":"explain analyze "</code></p>
<p>this string: ^[e should be generated in your editor by pressing ctrl-v and then alt-e.</p>
<p>now. let&#8217;s start psql, and press alt-e.</p>
<p>if everything was added correctly you should see &#8220;automagically added&#8221; explain analyze command <img src='http://www.depesz.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>the problem is, that at the moment alt-e works even in shell (you can try it if you want), which doesn&#8217;t really break anything, but is not elegant.</p>
<p>luckily - there is solution.</p>
<p>if i will change our mapping to:</p>
<p><code>$if psql<br />
    "^[e":"explain analyze "<br />
$endif</code></p>
<p>my new mapping will work only in psql.</p>
<p>other usecases might be to issue frequent queries with just a keypress:</p>
<p><code>"^[OP":"SELECT * FROM pg_stat_activity;^M"</code></p>
<p>^OP was generated by ctrl-v and then f1 key, and ^M at the end is ctrl-v &lt;enter&gt;</p>
<p>(please note that actual ^xxx sequences on your machine might be different as they depend on terminal).</p>
<p>this will make psql run my select by just pressing f1.</p>
<p>as for other uses - try it yourself. think about what commands do you usually call. perhaps you will want to add shortcuts for &#8220;select&#8221;, &#8220;update&#8221;, &#8220;insert into&#8221;, &#8220;delete from&#8221;?</p>
<p>only your imagination limits you. anything that can be entered from keyboard can be put in .inputrc thus making your work easier and more time-effective.</p>

				
			</div>
<p class="paypal"><a href="#" onclick="document.forms.form_paypal.submit();return false" onkeypres="this.onclick">if you liked it, please consider making small donation for author of this blog.</a></p>
		</div>

	
<!-- You can start editing here. -->

	<h3 id="comments">One Response to &#8220;keyboard shortcuts in psql&#8221;</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-25795">
			<img alt='' src='http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=32' class='avatar avatar-32 avatar-default' height='32' width='32' />	
			<cite><a href='http://www.pythian.com/blogs/913/log-buffer-92-a-carnival-of-the-vanities-for-dbas' rel='external nofollow'>Log Buffer #92: a Carnival of the Vanities for DBAs</a></cite> Says:						<br />

			<small class="commentmetadata"><a href="#comment-25795" title="">April 11th, 2008 at 18:51</a> </small>

			<p>[&#8230;] On select * from depesz;, Hubert Lubaciewski offers a few tips on some handy, and perhaps little-known keyboard shortcuts in psql. [&#8230;]</p>

		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Reply</h3>


<form action="http://www.depesz.com/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1" />
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2" />
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3" />
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
<input type="hidden" name="comment_post_ID" value="1187" />
</p>

</form>



	
	</div>

</div>
<hr />
<div id="footer">&nbsp;</div>
</div>
<div id="google-ads-top"><script type="text/javascript"><!--
google_ad_client = "pub-5473535448873103";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
//2007-10-23: depesz.com - top
google_ad_channel = "8272159850";
google_color_border = "303030";
google_color_bg = "000000";
google_color_link = "bbbbbb";
google_color_text = "303030";
google_color_url = "2a2a2a";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"> </script></div>
</body>
</html>
