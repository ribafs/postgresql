<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Oracle Compatibility Developer&#8217;s Guide</title>

<meta name="GENERATOR" content="HTML Transit 8.0 Trial Version by Avantstar, Inc. www.avantstar.com">
<meta name="TransitPubID" content="2033"><style type="text/css">
<!--
	.Title-1
	{
		text-align: center
	}
	.Heading1-1
	{
		text-align: left
	}
-->
</style></head><body><a name="TopOfPage"> </a>
<!-- TRANSIT - INFOBEFORE -->
<a href="http://www.enterprisedb.com/index.do?lpage=true"><img alt="EnterpriseDB" src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/logo.gif" border="0"></a><p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-95.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-97.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

  <div style="margin-left: 36pt;"><p><a name="P4524_271736"></a><span style="font-family: 'Arial'; font-size: 13pt;">3.4.4 Global Hints</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Thus far, hints have been applied directly to tables that are referenced in the </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">SQL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> command. It is also possible to apply hints to tables that appear in a view when the view is referenced in the </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">SQL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> command. The hint does not appear in the view, itself, but rather in the </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">SQL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> command that references the view.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">When
specifying a hint that is to apply to a table within a view, the view
and table names are given in dot notation within the hint argument list.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Synopsis</span></p><pre><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>hint</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">(</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>view</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">.</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>table</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">)</span></pre>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Parameters</span></p>

<p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>hint</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">Any of the hints in <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-94.htm#P4274_259719"><u>Table 3-11</u></a> or <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-95.htm#P4424_266474"><u>Table 3-12</u></a>.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>view</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The name of the view containing </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">table</span></i><span style="font-family: 'Times New Roman'; font-size: 12pt;">.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>table</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The table on which the hint is to be applied.</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Examples</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">A view named, </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">tx</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">, is created from the three-table join of </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">history</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">, </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">bra</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">nches</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">, and </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">accounts</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> shown in the final example of Section <u><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-95.htm#P4418_265667">3.4.3</a></u>.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">CREATE VIEW tx AS SELECT h.mtime, h.delta, b.bid, a.aid FROM history h, branches b, accounts a WHERE h.bid = b.bid AND h.aid = a.aid;</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The query plan produced by selecting from this view is show below:</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">EXPLAIN SELECT * FROM tx;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                                      QUERY PLAN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">--------------------------------------------------------------------------------------</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);"> Nested Loop  (cost=1.11..207.95 rows=26 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Hash Join  (cost=1.11..25.40 rows=26 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Hash Cond: (h.bid = b.bid)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Seq Scan on history h  (cost=0.00..20.20 rows=1020 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Hash  (cost=1.05..1.05 rows=5 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">               -&gt;  Seq Scan on branches b  (cost=0.00..1.05 rows=5 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Index Scan using accounts_pkey on accounts a  (cost=0.00..7.01 rows=1</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">       width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Index Cond: (h.aid = a.aid)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">(8 rows)</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The same hints that were applied to this join at the end of Section <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-95.htm#P4418_265667"><u>3.4.3</u></a> can be applied to the view as follows:</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">EXPLAIN SELECT /*+ USE_MERGE(tx.h tx.b) USE_HASH(tx.a) */ * FROM tx;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                                        QUERY PLAN</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">------------------------------------------------------------------------------------------</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">-</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);"> Merge Join  (cost=23480.11..23485.60 rows=26 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   Merge Cond: (h.bid = b.bid)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Sort  (cost=23479.00..23481.55 rows=1020 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Sort Key: h.bid</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Hash Join  (cost=21421.98..23428.03 rows=1020 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">               Hash Cond: (h.aid = a.aid)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">               -&gt;  Seq Scan on history h  (cost=0.00..20.20 rows=1020</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                   width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">               -&gt;  Hash  (cost=13209.88..13209.88 rows=500488 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                     -&gt;  Seq Scan on accounts a  (cost=0.00..13209.88</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                         rows=500488 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Sort  (cost=1.11..1.12 rows=5 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Sort Key: b.bid</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Seq Scan on branches b  (cost=0.00..1.05 rows=5 width=4)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">(12 rows)</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">In
addition to applying hints to tables within stored views, hints can be
applied to tables within subqueries as illustrated by the following
example. In this query on the sample application </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">emp</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> table, employees and their managers are listed by joining the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">emp</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> table with a subquery of the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">emp</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> table identified by the alias, </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">b</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">SELECT a.empno, a.ename, b.empno "mgr empno", b.ename "mgr ename" FROM emp a, (SELECT * FROM emp) b WHERE a.mgr = b.empno;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">empno | ename  | mgr empno | mgr ename</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">-------+--------+-----------+-----------</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7902 | FORD   |      7566 | JONES</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7788 | SCOTT  |      7566 | JONES</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7521 | WARD   |      7698 | BLAKE</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7844 | TURNER |      7698 | BLAKE</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7654 | MARTIN |      7698 | BLAKE</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7900 | JAMES  |      7698 | BLAKE</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7499 | ALLEN  |      7698 | BLAKE</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7934 | MILLER |      7782 | CLARK</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7876 | ADAMS  |      7788 | SCOTT</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7782 | CLARK  |      7839 | KING</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7698 | BLAKE  |      7839 | KING</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7566 | JONES  |      7839 | KING</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">  7369 | SMITH  |      7902 | FORD</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">(13 rows)</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The plan chosen by the query planner is shown below:</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">EXPLAIN SELECT a.empno, a.ename, b.empno "mgr empno", b.ename "mgr ename" FROM emp a, (SELECT * FROM emp) b WHERE a.mgr = b.empno;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                            QUERY PLAN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">-------------------------------------------------------------------</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);"> Merge Join  (cost=2.81..3.08 rows=13 width=26)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   Merge Cond: (a.mgr = emp.empno)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Sort  (cost=1.41..1.44 rows=14 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Sort Key: a.mgr</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Seq Scan on emp a  (cost=0.00..1.14 rows=14 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Sort  (cost=1.41..1.44 rows=14 width=13)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Sort Key: emp.empno</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Seq Scan on emp  (cost=0.00..1.14 rows=14 width=13)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">(8 rows)</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">A hint can be applied to the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">emp</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> table within the subquery to perform an index scan on index, </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">emp_pk</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">, instead of a table scan. Note the difference in the query plans.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">EXPLAIN SELECT /*+ INDEX(b.emp emp_pk) */ a.empno, a.ename, b.empno "mgr empno", b.ename "mgr ename" FROM emp a, (SELECT * FROM emp) b WHERE a.mgr = b.empno;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">                                QUERY PLAN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">---------------------------------------------------------------------------</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);"> Merge Join  (cost=1.41..13.21 rows=13 width=26)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   Merge Cond: (a.mgr = emp.empno)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Sort  (cost=1.41..1.44 rows=14 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         Sort Key: a.mgr</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">         -&gt;  Seq Scan on emp a  (cost=0.00..1.14 rows=14 width=20)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">   -&gt;  Index Scan using emp_pk on emp  (cost=0.00..12.46 rows=14 width=13)</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">(6 rows)</span></pre>

<p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-95.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-97.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

<a href="http://www.avantstar.com/"><img src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/transpwr.gif" alt="Powered by Transit"></a><!-- TRANSIT - INFOAFTER -->
<script type="text/javascript"> 
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); 
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); 
</script><script src="EnterpriseDB_OraCompat_EN_8.3-96_arquivos/ga.js" type="text/javascript"></script> 
<script type="text/javascript"> 
var pageTracker = _gat._getTracker("UA-4413916-2"); 
pageTracker._initData(); 
pageTracker._trackPageview(); 
</script> 
</div></body></html>