<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CREATE PACKAGE BODY</title>


<meta name="keywords" content="create package body, oracle compatibility, oracle, developers, developer's guide, enterprisedb, postgres plus advanced server, postgres plus">

<meta name="GENERATOR" content="HTML Transit 8.0 Trial Version by Avantstar, Inc. www.avantstar.com">
<meta name="TransitPubID" content="1991"><style type="text/css">
<!--
	.Title-1
	{
		text-align: center
	}
	.Heading1-1
	{
		text-align: left
	}
-->
</style></head><body><a name="TopOfPage"> </a>
<!-- TRANSIT - INFOBEFORE -->
<a href="http://www.enterprisedb.com/index.do?lpage=true"><img alt="EnterpriseDB" src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/logo.gif" border="0"></a><p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-53.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-55.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

  <div style="margin-left: 36pt;"><p><a name="P2576_141261"></a><span style="font-family: 'Arial'; font-size: 13pt;">3.3.16 CREATE PACKAGE BODY</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Name</span></p>

<p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">BODY PACKAGE</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> -- define a new package body</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Synopsis</span></p><pre><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE [ OR REPLACE ] PACKAGE BODY </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">{ IS | AS }</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  [ </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>declaration</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">; ] [, ...]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  [ { PROCEDURE </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">proc_n</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">ame</span></i>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      [ (</span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">argname</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [ IN | IN OUT | OUT ] </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">argtype</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [ DEFAULT </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">value</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">        [, ...]) ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">    { IS | AS }</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">        </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">program</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">_body</span></i>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      END [ </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">proc_name</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> ];</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">    |</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      FUNCTION </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">func_n</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">ame</span></i>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      [ (</span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">argname</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [ IN | IN OUT | OUT ] </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">argtype</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [ DEFAULT </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">value</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">        [, ...]) ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      RETURN </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>rettype</i></span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">    { IS | AS }</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">        </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">program</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">_body</span></i>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      END [ </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">fun</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">c_name</span></i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> ];</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">    }</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  ] [, ...]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  [ BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">      </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>statement</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">; [, ...] ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  END [ </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> ]</span></pre>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Description</span></p>

<p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">PACKAGE BODY</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> defines a new package body. </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE OR REPLACE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">PACKAGE BODY</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> will either create a new package body, or replace an existing body.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">If
a schema name is included, then the package body is created in the
specified schema. Otherwise it is created in the current schema. The
name of the new package body must match an existing package
specification in the same schema. The new package body name must not
match any existing package body in the same schema unless the intent is
to update the definition of an existing package body, in which case use
</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE OR REPLACE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">PACKAGE BODY</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">See Sections <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-184.htm#P9503_516941"><u>6.1.2</u></a> and <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-187.htm#P9587_522428"><u>6.2.2</u></a> for more information on the package body.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Parameters</span></p>

<p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The name (optionally schema-qualified) of the package body to create.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>declaration</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">A private variable, type, cursor, or </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">REF CURSOR</span><span style="font-family: 'Times New Roman'; font-size: 12pt;"> declaration.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>proc_name</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The name of a public or private procedure. If </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">proc_name</span></i><span style="font-family: 'Times New Roman'; font-size: 12pt;"> exists in the package specification with an identical signature, then it is public, otherwise it is private.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>argname</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The name of an argument.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">IN | IN OUT | OUT</span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The argument mode.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>argtype</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The data type(s) of the program&#8217;s arguments.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">DEFAULT </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>value</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">Default value of an input argument.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>program_body</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The declarations and </span><span style="font-family: 'Times New Roman'; font-size: 12pt;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt;"> statements that comprise the body of the function or procedure.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>func_name</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The name of a public or private function. If </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">fun</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">c_n</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">ame</span></i><span style="font-family: 'Times New Roman'; font-size: 12pt;"> exists in the package specification with an identical signature, then it is public, otherwise it is private.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>rettype</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">The return data type.</span></p>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>statement</i></span></p>

  <div style="margin-left: 36pt;"><p><span style="font-family: 'Times New Roman'; font-size: 12pt;">An </span><span style="font-family: 'Times New Roman'; font-size: 12pt;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt;">
program statement. Statements in the package initialization section are
executed once per session the first time the package is referenced.</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Examples</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The following is the package body for the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">empinfo</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> package.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">CREATE OR REPLACE PACKAGE BODY empinfo</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">IS</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    v_counter       INTEGER;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    PROCEDURE get_name (</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">        p_empno     NUMBER</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    )</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    IS</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">        SELECT ename INTO emp_name FROM emp WHERE empno = p_empno;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">        v_counter := v_counter + 1;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    END;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    FUNCTION display_counter</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    RETURN INTEGER</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    IS</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">        RETURN v_counter;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    END;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    v_counter := 0;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('Initialized counter');</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">END;</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The following two anonymous blocks execute the procedure and function in the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">empinfo</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> package and display the public variable.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    empinfo.get_name(7369);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('Employee Name    : ' || empinfo.emp_name);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('Number of queries: ' || empinfo.display_counter);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">END;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">Initialized counter</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">Employee Name    : SMITH</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">Number of queries: 1</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    empinfo.get_name(7900);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('Employee Name    : ' || empinfo.emp_name);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('Number of queries: ' || empinfo.display_counter);</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">END;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">Employee Name    : JAMES</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">Number of queries: 2</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">See Also</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-53.htm#P2517_138743"><u>CREATE PACKAGE</u></a>, <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-69.htm#P3365_187095"><u>DROP PACKAGE</u></a></span></p>

<p><a name="P2673_144572"></a></p>

<p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-53.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-55.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

<a href="http://www.avantstar.com/"><img src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/transpwr.gif" alt="Powered by Transit"></a><!-- TRANSIT - INFOAFTER -->
<script type="text/javascript"> 
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); 
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); 
</script><script src="EnterpriseDB_OraCompat_EN_8.3-54_arquivos/ga.js" type="text/javascript"></script> 
<script type="text/javascript"> 
var pageTracker = _gat._getTracker("UA-4413916-2"); 
pageTracker._initData(); 
pageTracker._trackPageview(); 
</script> 
</body></html>