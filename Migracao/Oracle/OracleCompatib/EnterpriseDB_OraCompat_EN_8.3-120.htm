<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Oracle Compatibility Developer&#8217;s Guide</title>

<meta name="GENERATOR" content="HTML Transit 8.0 Trial Version by Avantstar, Inc. www.avantstar.com">
<meta name="TransitPubID" content="2057"><style type="text/css">
<!--
	.Title-1
	{
		text-align: center
	}
	.Heading1-1
	{
		text-align: left
	}
-->
</style></head><body><a name="TopOfPage"> </a>
<!-- TRANSIT - INFOBEFORE -->
<a href="http://www.enterprisedb.com/index.do?lpage=true"><img alt="EnterpriseDB" src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/logo.gif" border="0"></a><p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-119.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-121.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

  <div style="margin-left: 36pt;"><p><a name="P6190_340071"></a><span style="font-family: 'Arial'; font-size: 13pt;">4.2.3 Procedures Overview</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Procedures are </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> programs that are invoked or called as an individual </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">
program statement. When called, procedures may optionally receive
values from the caller in the form of input parameters and optionally
return values to the caller in the form of output parameters.</span></p>

  <div style="margin-left: 43pt;"><p><span style="font-family: 'Times New Roman'; font-size: 14pt;">4.2.3.1 Creating a Procedure</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE PROCEDURE</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> command defines and names a procedure that will be stored in the database.</span></p><div style="margin-left: 24pt;"><pre><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CREATE [</span><span style="font-family: 'Courier New'; font-size: 11pt;"> OR REPLACE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">] PROCEDURE</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> (</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>parameters</i></span><span style="font-family: 'Courier New'; font-size: 11pt;">) </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">[ AUTHID { DEFINER | CURRENT_USER } ]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">{ IS | AS }</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">[</span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>declarations</i></span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">]</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>statements</i></span>
<span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">  END [</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> </span><i><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">name</span></i><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">];</span></pre>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is the identifier of the procedure</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">If [</span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">OR REPLACE</span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">] is specified and a procedure with the same name already exists in </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">the schema, the new procedure replaces the existing one</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">If [</span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">OR REPLACE</span><span style="font-family: 'Courier New'; font-size: 11pt;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">] is not specified, the new procedure will not be allowed to replace an existing one with the same name in the same schema</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>parameters</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is a list of formal parameters</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> If the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">AUTHID</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> cl</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">ause is omitted or </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">DEFINER</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is specified, the rights and search path of the procedure owner </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">are</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> used to determine access privileges to database objects and resolve unqualified database object references, respectively. If </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">CURRENT_USER</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is specified, the right</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">s and search path of the current user executing the procedure </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">are</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> used to determine access privileges and resolve unqualified object references.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>declarations</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> are variable, cursor, or type declarations</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>statements</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> are </span><span style="font-family: 'Times New Roman'; font-size: 12pt;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> program statements</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">BEGIN</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> - </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">END</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> block may contain an </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">EXCEPTION</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> section.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The following is an example of a simple procedure that takes no parameters.</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">CREATE OR REPLACE PROCEDURE simple_procedure</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">IS</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    DBMS_OUTPUT.PUT_LINE('That''s all folks!');</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">END simple_procedure;</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The procedure i</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">s stored in the database by entering the procedure code in </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Postgres Plus Advanced Server</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">See the</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt;"><u><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-55.htm#P2674_144572">CREATE PROCEDURE</a></u></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">command for more information on creating a procedure.</span></p>

  <div style="margin-left: 43pt;"><p><span style="font-family: 'Times New Roman'; font-size: 14pt;"><a name="P6214_341956"></a>4.2.3.2 Calling a Procedure</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The procedure can be invoked from another </span><span style="font-family: 'Times New Roman'; font-size: 12pt;">SPL</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> program by simply specifying the procedure name followed by its param</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">eters, i</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">f any, followed by a semicolon.</span></p><div style="margin-left: 24pt;"><pre><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"> [</span><span style="font-family: 'Courier New'; font-size: 11pt;"> (</span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>parameters</i></span><span style="font-family: 'Courier New'; font-size: 11pt;">) </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">];</span></pre>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is the identifier of the procedure</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">.</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>parameters</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">is a list of actual parameters.</span></p>

<p><b><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Note:</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> </span></b><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">If there are no actual parameters to be passed, the procedure must be called with no opening and closing parenthesis.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The following is an example of calling the procedure from an anonymous block: </span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">BEGIN</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">    simple_procedure;</span>
<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">END;</span>

<span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">That's all folks!</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"><b>Note</b></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">: Each application has its own unique way to call a procedure. In a </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">Java</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> application, the application programming interface, </span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">JDBC</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">, is used.</span></p>

  <div style="margin-left: 43pt;"><p><span style="font-family: 'Times New Roman'; font-size: 14pt;">4.2.3.3 Deleting a Procedure</span></p>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">A procedure can be deleted from the database using the </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">DROP PROCEDURE</span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> command.</span></p><div style="margin-left: 24pt;"><pre><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">DROP PROCEDURE </span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;">;</span></pre>

</div><p><span style="font-family: 'Courier New'; font-size: 11pt; color: Black;"><i>name</i></span><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"> is the name of the procedure to be dropped.</span></p>

<p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;">The previously created procedure is dropped in this example:</span></p><div style="margin-left: 12pt;"><pre><span style="font-family: 'Courier New'; font-size: 9pt; color: rgb(46, 49, 146);">DROP PROCEDURE simple_procedure;</span></pre>

</div><p><span style="font-family: 'Times New Roman'; font-size: 12pt; color: Black;"><a name="P6232_342899"></a>See the <a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-70.htm#P3381_187684"><u>DROP PROCEDURE</u></a> command for more details.</span></p>

<p style="text-align: center;"><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-119.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/inveppv.gif" alt="Previous Page" border="0"></a><!-- TRANSIT - TOC --><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/Table%20of%20Contents.htm#TopOfPage" target="_top"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/invetoc.gif" alt="Table Of Contents" border="0"></a><a href="http://www.enterprisedb.com/docs/en/8.3/oracompat/EnterpriseDB_OraCompat_EN_8.3-121.htm#TopOfPage"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/invepnx.gif" alt="Next Page" border="0"></a></p>

<a href="http://www.avantstar.com/"><img src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/transpwr.gif" alt="Powered by Transit"></a><!-- TRANSIT - INFOAFTER -->
<script type="text/javascript"> 
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); 
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); 
</script><script src="EnterpriseDB_OraCompat_EN_8.3-120_arquivos/ga.js" type="text/javascript"></script> 
<script type="text/javascript"> 
var pageTracker = _gat._getTracker("UA-4413916-2"); 
pageTracker._initData(); 
pageTracker._trackPageview(); 
</script> 
</body></html>